syntax = "proto3";

package fs.storage;

option cc_generic_services = true;

import "common.proto";

message WriteRequest {
    uint64 volume_id = 1;
    uint64 offset    = 2;
    bytes  data      = 3;
}

message WriteResponse {
    fs.common.StatusCode status = 1;
    int32 bytes_written         = 2;
}

message ReadRequest {
    uint64 volume_id = 1;
    uint64 offset    = 2;
    int32  length    = 3;
}

message ReadResponse {
    fs.common.StatusCode status = 1;
    bytes data                   = 2;
}

service StorageService {
    rpc Write(WriteRequest) returns (WriteResponse);
    rpc Read(ReadRequest)  returns (ReadResponse);
}
